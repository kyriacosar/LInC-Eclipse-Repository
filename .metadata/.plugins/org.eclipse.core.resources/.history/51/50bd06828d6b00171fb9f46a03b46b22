'''
Created on Jul 18, 2017

@author: kyriacos
'''

import json
import math

if __name__ == '__main__':
    e_file_in = open("../../../../Documents/Crunchbase Project Data/Twitter Results/Data Dictionaries/Twitter_Entrepreneurs_FacePoints_Dictionaries.json", "r")
    e_file_in_att = open("../../../../Documents/Crunchbase Project Data/Twitter Results/Data Dictionaries/Twitter_Entrepreneurs_FaceAttributes_Dictionaries.json", "r")
    e_file_in_rect = open("../../../../Documents/Crunchbase Project Data/Twitter Results/Data Dictionaries/Twitter_Entrepreneurs_Rectangles_Dictionaries.json", "r")
    e_file_out = open("../../../../Documents/Crunchbase Project Data/Twitter Results/Data Extraction/Twitter_Entrepreneurs_FHWR.txt", "w")
    
    e_file_out.write("FHWR of Entrepreneurs:\n\n")
    
    # Initialize a new list for adding the rectangle attributes dictionaries.
    rectList = []
    
    # Adding the rectangle attributes dictionaries in the list.
    for rectRecord in e_file_in_rect:
        rectList.append(rectRecord)
        
    e_file_out.write("ID\t\t\tHeight\tWidth\tRation")
    e_file_out.write("-"*9+"\t\t"+"-"*14+"\t"+"-"*14+"\t"+"-"*14+"\n")
    
    for record in e_file_in:   
        try:
            jDict = json.loads(record)
            
            # Based on the ID length, the right amount of tabs are written to the output file.
            if str(jDict['_id']).__len__() >= 16:
                e_file_out.write(str(jDict['_id'])+"\t")
            elif str(jDict['_id']).__len__() >= 8:
                e_file_out.write(str(jDict['_id'])+"\t\t")
            else:
                e_file_out.write(str(jDict['_id'])+"\t\t\t")
                    
            contour_left_x = jDict['landmark']['contour_left1']['x']
            contour_left_y = jDict['landmark']['contour_left1']['y']
            contour_right_x = jDict['landmark']['contour_right1']['x']
            contour_right_y = jDict['landmark']['contour_right1']['y']
            contour_chin_x = jDict['landmark']['contour_chin']['x']
            contour_chin_y = jDict['landmark']['contour_chin']['y']
            left_eyebrow_x = jDict['landmark']['left_eyebrow_right_corner']['x']
            left_eyebrow_y = jDict['landmark']['left_eyebrow_right_corner']['y']
            right_eyebrow_x = jDict['landmark']['right_eyebrow_left_corner']['x']
            right_eyebrow_y = jDict['landmark']['right_eyebrow_left_corner']['y']
            
            width = 
        except ValueError:
            print("Error in json to dictionary translation.")